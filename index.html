<!DOCTYPE html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üçâ</text></svg>"
  />
  <title>xeetshot</title>
  <meta name="description" content="longer xeets without premium or threads" />

  <meta property="og:title" content="xeetshot üçâ" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://xeetshot.lgug2z.com" />
  <meta
    property="og:description"
    content="longer xeets without premium or threads"
  />

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<html>
  <body class="bg-black">
    <div
      class="grid h-screen grid-cols-1 place-content-center space-x-1 bg-black px-4 sm:px-6"
    >
      <div class="basis-1/4 flex flex-col items-center justify-center py-10">
        <p class="text-gray-100 text-xl">üçâ xeetshot üçâ</p>
        <p class="text-gray-400 text-sm">free palestine</p>
        <p class="text-gray-400 text-sm">
          <a href="https://twitter.com/LGUG2Z">follow</a> |
          <a href="https://github.com/sponsors/LGUG2Z">support</a> |
          <a href="https://ko-fi.com/lgug2z">tip</a> |
          <a href="https://github.com/LGUG2Z/xeetshot">source</a>
        </p>
        <p class="text-gray-100 pt-5 max-w-lg text-justify">
          so you want longer xeets, but nobody reads threads or clicks on "show
          more" on premium xeets because the ux sucks. no problem. attach the
          longer part of your xeet as an image generated by xeetshot and use
          your 280 characters as a summary. your followers will see everything
          without having to expand your xeets or threads.
        </p>
      </div>

      <div
        class="w-full max-w-lg grid grid-cols-1 place-content-center justify-self-center text-gray-100"
      >
        <textarea
          id="usertext"
          rows="10"
          class="w-full max-w-lg h-full border border-dashed border-gray-400 border-opacity-50 bg-black p-5 sm:p-10 outline-none sm:rounded-lg sm:shadow"
          placeholder="What is happening?!"
        ></textarea>
      </div>

      <div class="basis-1/4 flex flex-col items-center justify-center pt-10">
        <button
          onclick="capture();"
          class="border- border border-dashed border-gray-400 border-opacity-50 hover:border-solid hover:border-gray-100 text-gray-100 px-10 py-5 outline-none sm:rounded-lg sm:shadow"
        >
          generate xeetshot
        </button>
      </div>
    </div>

    <div
      id="quote"
      style="display: hidden"
      class="mx-auto grid max-w-lg grid-cols-1 place-content-center"
    >
      <div id="target" class="bg-black">
        <div class="border- m-5 bg-black sm:rounded-lg sm:shadow">
          <div
            id="useroutput"
            class="whitespace-pre-line text-gray-100 tracking-wide"
          ></div>
        </div>
      </div>
    </div>
  </body>

  <script>
    function el(id) {
      return document.querySelector(id);
    }

    el("#usertext").value = "";

    function capture() {
      el("#useroutput").innerHTML = el("#usertext").value;
      el("#quote").style = "";
      window.scrollTo(0, 0);

      var newWindow = window.open();

      html2canvas(document.querySelector("#quote"), {
        scale: 2.0,
        background: "black",
        useCORS: true,
        letterRendering: true,
      })
        .then((canvas) => {
          // Safari sucks
          var dataURL = canvas.toDataURL("image/png");
          newWindow.document.body.innerHTML = `<img src="${dataURL}">`;
          newWindow.focus();
        })
        .catch((err) => {
          console.log(err);
        })
        .finally(() => {
          el("#quote").style = "display: none;";
        });
    }
  </script>
</html>
